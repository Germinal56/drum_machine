<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
        <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
        <title>Drum Machine</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.7.7/babel.min.js"></script>
    </head>
    <body>
        <div id="root"></div>
        <script type="text/babel">
            const clips = [
                {
                key: 'q',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3'
                },
                {
                key: 'w',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3'
                },
                {
                key: 'e',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3'
                },
                {
                key: 'a',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3'
                },
                {
                key: 's',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3'
                },
                {
                key: 'd',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3'
                },
                {
                key: 'z',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3'
                },
                {
                key: 'x',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3'
                },
                {
                key: 'c',
                url: 'https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3'
                }
            ];
            
            function App() {
                return (
                <div className="bg-info min-vh-100 text-white">
                    <h2>Drum Machine</h2>
                    {clips.map((clip) => {
                    return <Pad clip={clip} key={clip.key} />;
                    })}
                </div>
                );
            }
            
            function Pad({ clip }) {
                const handleClick = () => {
                    const audio = document.getElementById(clip.key);
                    audio.currentTime = 0;
                    audio.play();
                };

                return (
                <button className="btn btn-secondary p-4 m-3" onClick={handleClick}>
                    <audio id={clip.key} src={clip.url}></audio>
                    {clip.key.toUpperCase()}
                </button>
                );
            }

            const handleKeyPress = (event) => {
                const key = event.key.toLowerCase();
                const pad = clips.find(clip => clip.key === key);
                if (pad) {
                    const audio = document.getElementById(pad.key);
                    audio.currentTime = 0;
                    audio.play();
                }
            };

            document.addEventListener('keydown', handleKeyPress);
            
            ReactDOM.render(<App />, document.getElementById('root'));
        </script>
    </body>
</html>
